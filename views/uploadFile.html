<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>单文件上传</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../assets/css/layui.css" media="all">
  <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>

<body>

  <blockquote class="layui-elem-quote">文件上传接口60分钟后失效，请尽快上传。</blockquote>


  <fieldset class="layui-elem-field layui-field-title" style="margin: 30px auto;">
    <legend>请上传用户Excel文件</legend>
  </fieldset>

  <div class="layui-upload-drag" id="test10">
    <i class="layui-icon"></i>
    <p>点击上传，或将文件拖拽到此处</p>
    <div class="layui-hide" id="uploadDemoView">
      <hr>
      <img src="" alt="上传成功后渲染" style="max-width: 196px">
    </div>
  </div>



  <script src="../assets/js/layui.js" charset="utf-8"></script>
  <script>
    layui.use('upload', function () {
      var $ = layui.jquery
        , upload = layui.upload;



      //指定允许上传的文件类型
      upload.render({
        elem: '#test3'
        , url: 'https://httpbin.org/post' //改成您自己的上传接口
        , accept: 'file' //普通文件
        , done: function (res) {
          layer.msg('上传成功');
          console.log(res);
        }
      });
      upload.render({ //允许上传的文件后缀
        elem: '#test4'
        , url: 'https://httpbin.org/post' //改成您自己的上传接口
        , accept: 'file' //普通文件
        , exts: 'xls|xlsx' //只允许excle文件
        , done: function (res) {
          layer.msg('上传成功');
          console.log(res)
        }
      });
      upload.render({
        elem: '#test5'
        , url: 'https://httpbin.org/post' //改成您自己的上传接口
        , accept: 'video' //视频
        , done: function (res) {
          layer.msg('上传成功');
          console.log(res)
        }
      });
      upload.render({
        elem: '#test6'
        , url: 'https://httpbin.org/post' //改成您自己的上传接口
        , accept: 'audio' //音频
        , done: function (res) {
          layer.msg('上传成功');
          console.log(res)
        }
      });

      //设定文件大小限制
      upload.render({
        elem: '#test7'
        , url: 'https://httpbin.org/post' //改成您自己的上传接口
        , size: 60 //限制文件大小，单位 KB
        , done: function (res) {
          layer.msg('上传成功');
          console.log(res)
        }
      });



      //拖拽上传
      upload.render({
        elem: '#test10'
        , url: 'https://httpbin.org/post' //改成您自己的上传接口
        , done: function (res) {
          layer.msg('上传成功');
          layui.$('#uploadDemoView').removeClass('layui-hide').find('img').attr('src', res.files.file);
          console.log(res)
        }
      });



    });
  </script>

</body>

</html>